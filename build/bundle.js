!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/build/",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";var r=n(2),i=n(3);r.render(r.createElement(i,null),document.querySelectorAll(".the-form")[0])},function(e,t){e.exports=React},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(12),s=n(14),a=n(15),c=r.createClass({displayName:"ShareThisEmail",getInitialState:function(){return i.getState()},componentDidMount:function(){i.addChangeListener(this._onChange)},componentWillUnmount:function(){i.removeChangeListener(this._onChange)},render:function(){return r.createElement("div",null,r.createElement("form",{className:"col-md-8"},r.createElement(o,{value:this.state.subject}),r.createElement(s,{value:this.state.body}),r.createElement(a,{subject:this.state.subject,body:this.state.body,flashCopied:this.state.flashCopied})))},_onChange:function(){this.setState(i.getState())}});e.exports=c},function(e,t,n){"use strict";var r=n(5).EventEmitter,i=n(6),o=n(11),s="change",a="",c="",l=!1,u=Object.assign(r.prototype,{getSubject:function(){return a},getBody:function(){return c},getState:function(){var e={subject:a,body:c,flashCopied:l};return l=!1,e},addChangeListener:function(e){this.on(s,e)},removeChangeListener:function(e){this.on(s,e)},emitChange:function(){this.emit(s)}});i.register(function(e){switch(e.actionType){case o.UPDATE_SUBJECT:a=e.subject,u.emitChange();break;case o.UPDATE_BODY:c=e.body,u.emitChange();break;case o.COPIED:l=!0,u.emitChange()}}),e.exports=u},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,a,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),l=n.slice(),i=l.length,c=0;i>c;c++)l[c].apply(this,a);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,s,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(a=s;a-->0;)if(n[a]===t||n[a].listener&&n[a].listener===t){i=a;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";var r=n(7).Dispatcher;e.exports=new r},function(e,t,n){e.exports.Dispatcher=n(8)},function(e,t,n){(function(r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n(10),s="ID_",a=function(){function e(){i(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t=s+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]?void 0:"production"!==r.env.NODE_ENV?o(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e):o(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching?void 0:"production"!==r.env.NODE_ENV?o(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching."):o(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]?void 0:"production"!==r.env.NODE_ENV?o(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):o(!1):(this._callbacks[n]?void 0:"production"!==r.env.NODE_ENV?o(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n):o(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching?"production"!==r.env.NODE_ENV?o(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."):o(!1):void 0,this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=a}).call(t,n(9))},function(e,t){function n(){l=!1,s.length?c=s.concat(c):u=-1,c.length&&r()}function r(){if(!l){var e=setTimeout(n);l=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,l=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function o(){}var s,a=e.exports={},c=[],l=!1,u=-1;a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new i(e,t)),1!==c.length||l||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){(function(t){"use strict";var n=function(e,n,r,i,o,s,a,c){if("production"!==t.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===n)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,i,o,s,a,c],p=0;l=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return u[p++]}))}throw l.framesToPop=1,l}};e.exports=n}).call(t,n(9))},function(e,t){"use strict";e.exports={UPDATE_SUBJECT:"update_subject",UPDATE_BODY:"update_body",COPIED:"copied"}},function(e,t,n){"use strict";var r=n(2),i=n(13),o=r.createClass({displayName:"Subject",update:function(e){i.update_subject(e.target.value)},render:function(){return r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"subject"},"Subject:"),r.createElement("input",{type:"text",className:"form-control",id:"subject",placeholder:"Paste your subject line",value:this.props.value,onChange:this.update}),r.createElement("p",{className:"help-block"},"This will become the prefilled subject line."))}});e.exports=o},function(e,t,n){"use strict";var r=n(6),i=n(11),o={update_subject:function(e){r.dispatch({actionType:i.UPDATE_SUBJECT,subject:e})},update_body:function(e){r.dispatch({actionType:i.UPDATE_BODY,body:e})},copied:function(){r.dispatch({actionType:i.COPIED})}};e.exports=o},function(e,t,n){"use strict";var r=n(2),i=n(13),o=r.createClass({displayName:"Body",update:function(e){i.update_body(e.target.value)},render:function(){return r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"body"},"Email Body:"),r.createElement("textarea",{id:"body",style:{height:"300px"},className:"form-control",placeholder:"Paste your email body here. HTML is fine, we'll convert it to a text-only format.",value:this.props.value,onChange:this.update}),r.createElement("p",{className:"help-block"},"This will become the prefilled body."))}});e.exports=o},function(e,t,n){"use strict";function r(e){var t=document.createElement("input");t.setAttribute("type","text"),t.setAttribute("value",e),t=document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(n){t.remove(),console.log("document.execCommand('copy'); is not supported"),prompt("Copy the text below. (ctrl c, enter)",e)}finally{t.remove()}}var i=n(2),o=n(16),s=n(13),a=i.createClass({displayName:"Link",build_link:function(){var e=encodeURIComponent(this.props.subject),t=encodeURIComponent(o(this.props.body.replace(/(?:\r\n|\r|\n)/g,"<br />")));return"mailto:?subject="+e+"&body="+t},copy:function(){var e=this.build_link();r(e)&&s.copied()},componentDidUpdate:function(){this.props.flashCopied&&$(i.findDOMNode(this.refs.copied)).fadeOut(1e3)},render:function(){var e=this;return i.createElement("p",null,"You're done! This is the link: ",i.createElement("a",{href:this.build_link(),target:"_blank"},"Share with a friend"),i.createElement("br",null),i.createElement("a",{className:"btn btn-success",ref:"copyButton",onClick:this.copy},"Copy to Clipboard"),function(){return e.props.flashCopied?i.createElement("span",{ref:"copied"},"Â Copied to clipboard!"):void 0}())}});e.exports=a},function(e,t,n){"use strict";function r(e){return e.replace(/^[ \r\n\t]+|[ \r\n\t]+$/g,"")}function i(e){return-1!==C.indexOf(e.nodeName.toLowerCase())}function o(e){return-1!==x.indexOf(e.nodeName.toLowerCase())}function s(){var e=E.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(n){}return t}function a(){var e=function(){};return e.prototype.parseFromString=function(e){var t=y.implementation.createHTMLDocument("");return e.toLowerCase().indexOf("<!doctype")>-1?t.documentElement.innerHTML=e:t.body.innerHTML=e,t},e}function c(e){var t=(new w).parseFromString(e,"text/html");return N(t,i),t}function l(e){for(var t,n,r,i=[e],o=[];i.length>0;)for(t=i.shift(),o.push(t),n=t.childNodes,r=0;r<n.length;r++)1===n[r].nodeType&&i.push(n[r]);return o.shift(),o}function u(e){for(var t="",n=0;n<e.childNodes.length;n++)if(1===e.childNodes[n].nodeType)t+=e.childNodes[n]._replacement;else{if(3!==e.childNodes[n].nodeType)continue;t+=e.childNodes[n].data}return t}function p(e,t){return e.cloneNode(!1).outerHTML.replace("><",">"+t+"<")}function d(e,t){if("string"==typeof t)return t===e.nodeName.toLowerCase();if(Array.isArray(t))return-1!==t.indexOf(e.nodeName.toLowerCase());if("function"==typeof t)return t.call(v,e);throw new TypeError("`filter` needs to be a string, array, or function")}function h(e,t){var n,r,o;return"left"===e?(n=t.previousSibling,r=/ $/):(n=t.nextSibling,r=/^ /),n&&(3===n.nodeType?o=r.test(n.nodeValue):1!==n.nodeType||i(n)||(o=r.test(n.textContent))),o}function f(e){var t="",n="";if(!i(e)){var r=/^[ \r\n\t]/.test(e.innerHTML),o=/[ \r\n\t]$/.test(e.innerHTML);r&&!h("left",e)&&(t=" "),o&&!h("right",e)&&(n=" ")}return{leading:t,trailing:n}}function m(e){var t,n=u(e);if(!o(e)&&!/A/.test(e.nodeName)&&/^\s*$/i.test(n))return void(e._replacement="");for(var i=0;i<g.length;i++){var s=g[i];if(d(e,s.filter)){if("function"!=typeof s.replacement)throw new TypeError("`replacement` needs to be a function that returns a string");var a=f(e);(a.leading||a.trailing)&&(n=r(n)),t=a.leading+s.replacement.call(v,n,e)+a.trailing;break}}e._replacement=t}var v,g,y,b=n(17),_=n(18),N=n(19),E="undefined"!=typeof window?window:this;y="undefined"==typeof document?n(22).jsdom():document;var C=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"],x=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],w=s()?E.DOMParser:a();v=function(e,t){if(t=t||{},"string"!=typeof e)throw new TypeError(e+" is not a string");e=e.replace(/(\d+)\. /g,"$1\\. ");var n,r=c(e).body,i=l(r);g=b.slice(0),t.gfm&&(g=_.concat(g)),t.converters&&(g=t.converters.concat(g));for(var o=i.length-1;o>=0;o--)m(i[o]);return n=u(r),n.replace(/^[\t\r\n]+|[\t\r\n\s]+$/g,"").replace(/\n\s+\n/g,"\n\n").replace(/\n{3,}/g,"\n\n")},v.isBlock=i,v.isVoid=o,v.trim=r,v.outer=p,e.exports=v},function(e,t){"use strict";e.exports=[{filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},{filter:"br",replacement:function(){return"  \n"}},{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t){for(var n=t.nodeName.charAt(1),r="",i=0;n>i;i++)r+="#";return"\n\n"+r+" "+e+"\n\n"}},{filter:"hr",replacement:function(){return"\n\n* * *\n\n"}},{filter:["em","i"],replacement:function(e){return"_"+e+"_"}},{filter:["strong","b"],replacement:function(e){return"**"+e+"**"}},{filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){return"`"+e+"`"}},{filter:function(e){return"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var n=t.title?' "'+t.title+'"':"";return"["+e+"]("+t.getAttribute("href")+n+")"}},{filter:"img",replacement:function(e,t){var n=t.alt||"",r=t.getAttribute("src")||"",i=t.title||"",o=i?' "'+i+'"':"";return r?"!["+n+"]("+r+o+")":""}},{filter:function(e){return"PRE"===e.nodeName&&"CODE"===e.firstChild.nodeName},replacement:function(e,t){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},{filter:"blockquote",replacement:function(e){return e=this.trim(e),e=e.replace(/\n{3,}/g,"\n\n"),e=e.replace(/^/gm,"> "),"\n\n"+e+"\n\n"}},{filter:"li",replacement:function(e,t){e=e.replace(/^\s+/,"").replace(/\n/gm,"\n    ");var n="*   ",r=t.parentNode,i=Array.prototype.indexOf.call(r.children,t)+1;return n=/ol/i.test(r.nodeName)?i+".  ":"*   ",n+e}},{filter:["ul","ol"],replacement:function(e,t){for(var n=[],r=0;r<t.childNodes.length;r++)n.push(t.childNodes[r]._replacement);return/li/i.test(t.parentNode.nodeName)?"\n"+n.join("\n"):"\n\n"+n.join("\n")+"\n\n"}},{filter:function(e){return this.isBlock(e)},replacement:function(e,t){return"\n\n"+this.outer(t,e)+"\n\n"}},{filter:function(){return!0},replacement:function(e,t){return this.outer(t,e)}}]},function(e,t){"use strict";function n(e,t){var n=Array.prototype.indexOf.call(t.parentNode.childNodes,t),r=" ";return 0===n&&(r="| "),r+e+" |"}var r=/highlight highlight-(\S+)/;e.exports=[{filter:"br",replacement:function(){return"\n"}},{filter:["del","s","strike"],replacement:function(e){return"~~"+e+"~~"}},{filter:function(e){return"checkbox"===e.type&&"LI"===e.parentNode.nodeName},replacement:function(e,t){return(t.checked?"[x]":"[ ]")+" "}},{filter:["th","td"],replacement:function(e,t){return n(e,t)}},{filter:"tr",replacement:function(e,t){var r="",i={left:":--",right:"--:",center:":-:"};if("THEAD"===t.parentNode.nodeName)for(var o=0;o<t.childNodes.length;o++){var s=t.childNodes[o].attributes.align,a="---";s&&(a=i[s.value]||a),r+=n(a,t.childNodes[o])}return"\n"+e+(r?"\n"+r:"")}},{filter:"table",replacement:function(e){return"\n\n"+e+"\n\n"}},{filter:["thead","tbody","tfoot"],replacement:function(e){return e}},{filter:function(e){return"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t){return"\n\n```\n"+t.firstChild.textContent+"\n```\n\n"}},{filter:function(e){return"PRE"===e.nodeName&&"DIV"===e.parentNode.nodeName&&r.test(e.parentNode.className)},replacement:function(e,t){var n=t.parentNode.className.match(r)[1];return"\n\n```"+n+"\n"+t.textContent+"\n```\n\n"}},{filter:function(e){return"DIV"===e.nodeName&&r.test(e.className)},replacement:function(e){return"\n\n"+e+"\n\n"}}]},function(e,t,n){"use strict";function r(e){return!(!e||!l[e.nodeName])}function i(e){return!(!e||!c[e.nodeName])}function o(e,t){if(e.firstChild&&"PRE"!==e.nodeName){"function"!=typeof t&&(t=r);for(var n=null,o=!1,c=null,l=a(c,e);l!==e;){if(3===l.nodeType){var u=l.data.replace(/[ \r\n\t]+/g," ");if(n&&!/ $/.test(n.data)||o||" "!==u[0]||(u=u.substr(1)),!u){l=s(l);continue}l.data=u,n=l}else{if(1!==l.nodeType){l=s(l);continue}t(l)||"BR"===l.nodeName?(n&&(n.data=n.data.replace(/ $/,"")),n=null,o=!1):i(l)&&(n=null,o=!0)}var p=a(c,l);c=l,l=p}n&&(n.data=n.data.replace(/ $/,""),n.data||s(n))}}function s(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function a(e,t){return e&&e.parentNode===t||"PRE"===t.nodeName?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var c=n(20);Object.keys(c).forEach(function(e){c[e.toUpperCase()]=1});var l={};n(21).forEach(function(e){l[e.toUpperCase()]=1}),e.exports=o},function(e,t){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(e,t){e.exports=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},function(e,t){}]);